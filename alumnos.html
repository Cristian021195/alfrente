<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Alumnos</title>

    <!-- PWA -->
    <link rel="icon" type="image/svg+xml" href="./assets/icon.svg" />
    <link rel="manifest" href="./manifest.json" />
    <meta name="application-name" content="Al frente" />
    <meta name="apple-mobile-web-app-capable" content="yes" />
    <meta name="apple-mobile-web-app-status-bar-style" content="default" />
    <meta name="apple-mobile-web-app-title" content="Al frente" />
    <meta name="description" content="App didactica para docentes, tomar listado de presentes y hacer pasar a alumnos" />
    <meta name="format-detection" content="telephone=no" />
    <meta name="mobile-web-app-capable" content="yes" />
    <meta name="x5-page-mode" content="app">
    <meta name="browsermode" content="application">
    <meta name="msapplication-TileColor" content="#800080" />
    <meta name="msapplication-tap-highlight" content="no" />
    <meta name="theme-color" content="#800080" />
    <link rel="apple-touch-icon" href="./assets/icon.svg" />
    <link rel="apple-touch-icon" sizes="192x192" href="./assets/icon_192.svg" />
    <link rel="apple-touch-icon" sizes="256x256" href="./assets/icon_256.svg" />
    <link rel="apple-touch-icon" sizes="512x512" href="./assets/icon.svg" />    
    <link rel="mask-icon" href="./assets/icon.svg" sizes="any" type="image/svg+xml" color="#a340a3" />

    <link rel="stylesheet" href="./style.css">
    <script src="./app.js" defer></script>
    <style>
        .main{background-color: purple; color: whitesmoke; height: 100vh; text-align: center;}
        .link_orange{color: orange; font-weight: bold;}
        table{width: 100%;}
        .vs{overflow-y: scroll; height: 72vh;}
    </style>
</head>
<body>
    <main class="main p-1">
        <h1 id="alumno">Alumnos</h1>
        <button class="btn-sm bg-green top-right" id="instalar" onclick="instalar()">Instalar</button>
        <br>
        <div class="vs">
            <table>
                <thead>
                    <th>#</th>
                    <th>NOMBRE</th>
                    <th>APELLIDO</th>
                    <th>APODO</th>
                </thead>
                <tbody id="tbody">

                </tbody>
            </table>
        </div>
        <div class="d-flex between" id="opciones">
            <a href="../" class="opbtn">
                <svg xmlns="http://www.w3.org/2000/svg" width="48" height="48" fill="currentColor" class="bi bi-arrow-left" viewBox="0 0 16 16">
                    <path fill-rule="evenodd" d="M15 8a.5.5 0 0 0-.5-.5H2.707l3.147-3.146a.5.5 0 1 0-.708-.708l-4 4a.5.5 0 0 0 0 .708l4 4a.5.5 0 0 0 .708-.708L2.707 8.5H14.5A.5.5 0 0 0 15 8"/>
                </svg>
            </a>
            <a href="#" class="opbtn">
                <svg xmlns="http://www.w3.org/2000/svg" width="48" height="48" fill="currentColor" class="bi bi-info-lg" viewBox="0 0 16 16">
                    <path d="m9.708 6.075-3.024.379-.108.502.595.108c.387.093.464.232.38.619l-.975 4.577c-.255 1.183.14 1.74 1.067 1.74.72 0 1.554-.332 1.933-.789l.116-.549c-.263.232-.65.325-.905.325-.363 0-.494-.255-.402-.704zm.091-2.755a1.32 1.32 0 1 1-2.64 0 1.32 1.32 0 0 1 2.64 0"/>
                </svg>
            </a>
        </div>
    </main>
    <script>
        const alumnos = JSON.parse(localStorage.getItem('alumnos') || '[]');
        const $tbody = document.getElementById('tbody');
        const $frg = document.createDocumentFragment();
        if(alumnos.length > 0){
            alumnos.forEach((e,ei) => {
                let $tr = document.createElement('tr');
                $tr.innerHTML = `<td>${ei}</td><td>${e[0]}</td><td>${e[1]}</td><td>${e[2]}</td>`;
                $frg.appendChild($tr);
            });
            $tbody.append($frg);
        }else{
            let $tr = document.createElement('tr');
            $tr.innerHTML = `<td colspan="4"><b>SIN ALUMNOS CARGADOS</b></td>`;
            $tbody.append($tr);
        }
        console.log(alumnos)
    </script>
</body>
</html>